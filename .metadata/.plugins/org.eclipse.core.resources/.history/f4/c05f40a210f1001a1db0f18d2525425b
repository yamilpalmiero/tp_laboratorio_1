#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#include <ctype.h>
#include "funciones.h"

int main(void) {
	setbuf(stdout, NULL);

	int flag1 = 0;
	int flag2 = 0;
	float num1;
	float num2;
	int opcion;
	float suma = 0;
	float resta = 0;
	float division = 0;
	float multiplicacion = 0;
	int factorial1 = 0;
	int factorial2 = 0;

	printf("*****MENU*****");

	do {
		if (flag1 == 0) {
			printf("\n\n1- Ingrese 1er operando (A=x).");
			printf("\n2- Inrgese 2do operando (B=y).");
			printf("\n3- Calcular todas las operaciones.");
			printf("\n4- Informar resultados.");
			printf("\n5- Salir.");
		} else if (flag1 == 1 && flag2 == 0) {
			printf("\n\n1- Ingrese 1er operando (A=%d).", num1);
			printf("\n2- Inrgese 2do operando (B=y).");
			printf("\n3- Calcular todas las operaciones.");
			printf("\n4- Informar resultados.");
			printf("\n5- Salir.");
		} else if (flag1 == 0 && flag2 == 1) {
			printf("\n\n1- Ingrese 1er operando (A=x).");
			printf("\n2- Inrgese 2do operando (B=%d).", num2);
			printf("\n3- Calcular todas las operaciones.");
			printf("\n4- Informar resultados.");
			printf("\n5- Salir.");
		} else {
			printf("\n\n1- Ingrese 1er operando (A=%d).", num1);
			printf("\n2- Inrgese 2do operando (B=%d).", num2);
			printf("\n3- Calcular todas las operaciones.");
			printf("\n4- Informar resultados.");
			printf("\n5- Salir.");
		}

		printf("\n\nIngrese una opcion: ");
		scanf("%d", &opcion);

		switch (opcion) {
		case 1:
			printf("\nIngrese 1er operando: ");
			scanf("%f", &num1);
			flag1 = 1;
			break;
		case 2:
			printf("\nIngrese 2do operando: ");
			scanf("%f", &num2);
			flag2 = 1;
			break;
		case 3:
			suma = sumar(num1, num2);
			resta = restar(num1, num2);
			division = dividir(num1, num2);
			multiplicacion = multiplicar(num1, num2);
			factorial1 = factorial(num1);
			factorial2 = factorial(num2);
			printf("\Se calcularon todas las operaciones.");
			break;
		case 4:
			printf("\n%f + %f = %.2f", num1, num2, suma);
			printf("\n%f - %f = %.2f", num1, num2, resta);
			printf("\n%f / %f = %.2f", num1, num2, division);
			printf("\n%f * %f = %.2f", num1, num2, multiplicacion);
			printf("\n%f! = %f", num1, factorial1);
			printf("\n%f! = %f", num2, factorial2);
			break;
		case 5:
			printf("Salio de la calculadora.\n\n");
			system("pause");
			break;
		}
	} while (opcion != 5);

	return 0;
}
